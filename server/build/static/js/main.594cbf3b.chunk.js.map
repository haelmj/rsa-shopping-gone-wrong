{"version":3,"sources":["components/Header.js","components/Search.js","components/Book.js","components/BookList.js","pages/About.js","App.js","index.js"],"names":["Header","props","className","to","bookLength","price","toFixed","Search","onSubmit","event","preventDefault","findBooks","keyword","value","onChange","e","setKeyword","target","type","Book","book","id","retailPrice","saleInfo","volumeInfo","title","authors","description","thumbnail","imageLinks","src","alt","length","substring","join","amount","stored","onClick","addToBookcase","removeFromBookcase","BookList","books","React","useEffect","calculateBookcase","handleCheckout","filter","read","map","About","bookcaseLength","App","useState","data","setBooks","bookcase","setBookcase","setPrice","a","url","fetch","then","res","json","results","error","items","console","log","method","headers","body","JSON","stringify","text","result","window","alert","forEach","concat","document","Array","from","getElementsByClassName","el","innerText","exact","path","render","component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.594cbf3b.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Header = (props) => {\n  return (\n    <div className=\"header\">\n      <h1>Michael's Weird Library</h1>\n      <div className=\"breadcrumb\">\n        <Link to=\"/\"> Home </Link> |<Link to=\"/about\"> About </Link> |\n        <Link to=\"/bookcase\" className=\"bookLink\">\n          {\" \"}\n          Bookcase ({props.bookLength})\n        </Link>\n        {props.price && <span> | Total Price: ${props.price.toFixed(2)}</span>}\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\r\n\r\nconst Search = (props) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    props.findBooks(props.keyword);\r\n  };\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          Book name:\r\n          <input\r\n            value={props.keyword}\r\n            onChange={(e) => props.setKeyword(e.target.value)}\r\n          />\r\n          <input type=\"submit\" value='Search'/>\r\n        </label>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport default Search;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Book = ({ book, ...props }) => {\n  //Nested Destructuring\n  const {\n    id,\n    saleInfo: { retailPrice },\n    volumeInfo: {\n      title,\n      authors,\n      description,\n      imageLinks: { thumbnail },\n    },\n  } = book;\n  \n\n  return (\n    <div className=\"book\">\n      <img src={thumbnail} alt={title.length > 0 ? title : `Book id=${id}`} />\n      <div>\n        <h2 title={title}>\n          {title.length > 50 ? title.substring(0, 50) + \"...\" : title}\n        </h2>\n        <p className=\"author\">\n          by {authors ? authors.join(\", \") : \"No Authors Listed\"}\n        </p>\n        <p className=\"price\">\n          {retailPrice ? \"Â£\" + retailPrice.amount : \"No Retail Price\"}\n        </p>\n        <p className=\"description\">\n          {description\n            ? description.substring(0, 300) + \"...\"\n            : \"No description\"}\n        </p>\n      </div>\n      <div>\n        {props.stored === \"library\" ? (\n          <button\n            className=\"add-button\"\n            onClick={() => props.addToBookcase(id)}\n          >\n            + Add\n          </button>\n        ) : (\n          <button\n            className=\"remove-button\"\n            onClick={() => props.removeFromBookcase(id)}\n          >\n            x\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Book;\n\n//Prop Types\nBook.propTypes = {\n  book: PropTypes.object.isRequired,\n};\n","import React from \"react\";\nimport Book from \"./Book\";\nimport PropTypes from \"prop-types\";\n\nconst BookList = ({ books, ...props }) => {\n\n  React.useEffect(() => {\n    props.calculateBookcase && props.calculateBookcase();\n  })\n  return (\n    <div className=\"list\">\n      <div>\n        {props.price && <button className=\"checkout-button\" onClick={props.handleCheckout}> Checkout </button>}\n        {props.stored === \"library\" && <h2>Suggested Reading</h2>}\n        {books.length === 0 ? (\n          <div className=\"empty\">No books...</div>\n        ) : (\n          books\n            .filter((book) => props.stored === \"bookcase\" || !book.read)\n            .map((book) => <Book key={book.id} book={book} {...props} />)\n        )}\n      </div>\n    </div>\n  );\n};\n\nBookList.propTypes = {\n  books: PropTypes.array.isRequired,\n};\n\nexport default BookList;\n","import React from \"react\";\nimport Header from \"../components/Header\";\n\nconst About = (props) => {\n  return (\n    <div>\n      <div className=\"breadcrumb\">\n        <Header bookLength={props.bookcaseLength}/>\n      </div>\n      <p className=\"page\">I have no information about myself. I promise it's just books but I am a secret lover of the Web Application Hackers Handbook and so I occasionally do free giveaways.</p>\n      <p className=\"page\">You probably already figured this out but my styling(css) is really horrible.</p>\n      <p className=\"page\">I don't want to bore you much. <b>Go ahead and purchase some books!!!</b></p>\n    </div>\n  );\n};\n\nexport default About;\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"./styles/App.css\";\nimport Header from \"./components/Header\";\nimport Search from \"./components/Search\";\nimport BookList from \"./components/BookList\";\nimport About from \"./pages/About\";\nimport data from \"./models/local-books.json\";\n\nconst App = () => {\n  const [books, setBooks] = useState(data);\n  const [bookcase, setBookcase] = useState([]);\n  const [keyword, setKeyword] = useState(\"\");\n  const [price, setPrice] = useState(0);\n\n\n  async function findBooks(value) {\n    const url = `https://www.googleapis.com/books/v1/volumes?q=${value}&filter=paid-ebooks&print-type=books&projection=lite`;\n    const results = await fetch(url).then((res) => res.json());\n    if (!results.error) {\n      setBooks(results.items);\n    }\n  }\n\n  const handleCheckout = async () => {\n    console.log('called')\n    const result = await fetch('/checkout', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"price\": price,\n        \"books\": [...bookcase.map((book)=> book.volumeInfo.title)]\n      })\n    }).then((res) => res.text());\n    window.alert(result);\n  }\n\n  const calculateBookcase = () => {\n    let amount = 0;\n    bookcase.forEach((book)=>{\n      book.saleInfo.retailPrice ? amount += book.saleInfo.retailPrice.amount : amount += 0;\n    })\n    setPrice(amount);\n  }\n\n  const addToBookcase = (id) => {\n    setBookcase(bookcase.concat(books.filter((book) => book.id === id)));\n    setBooks([\n      ...books.map((book) => {\n        if (book.id === id) {\n          book.read = true;\n        }\n        return book;\n      }),\n    ]);\n  };\n\n  const removeFromBookcase = (id) => {\n    setBookcase(bookcase.filter((book) => book.id !== id));\n    setBooks([\n      ...books.map((book) => {\n        if (book.id === id) {\n          book.read = false;\n        }\n        return book;\n      }),\n    ]);\n  };\n\n  useEffect(() => {\n    document.title = `My Library ${bookcase.length} Read`;\n    Array.from(document.getElementsByClassName(\"bookLink\")).forEach((el) => {\n      el.innerText = ` Bookcase (${bookcase.length})`;\n    });\n  });\n\n  return (\n    <Router>\n      <div className=\"container\">\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            <Fragment>\n              <Header bookLength={bookcase.length} />\n              <Search\n                findBooks={findBooks}\n                keyword={keyword}\n                setKeyword={setKeyword}\n              />\n\n              <BookList\n                books={books}\n                stored=\"library\"\n                addToBookcase={addToBookcase}\n                removeFromBookcase={removeFromBookcase}\n              />\n            </Fragment>\n          )}\n        />\n        <Route\n          path=\"/bookcase\"\n          render={() => (\n            <Fragment>\n              <Header bookLength={bookcase.length} price={price}/>\n              <Search\n                findBooks={findBooks}\n                keyword={keyword}\n                setKeyword={setKeyword}\n              />\n              <BookList\n                price={price}\n                books={bookcase}\n                handleCheckout={handleCheckout}\n                stored=\"bookcase\"\n                addToBookcase={addToBookcase}\n                removeFromBookcase={removeFromBookcase}\n                calculateBookcase={calculateBookcase}\n              />\n            </Fragment>\n          )}\n        />\n        <Route\n          path=\"/about\"\n          component={() => <About bookcaseLength={bookcase.length} />}\n        />\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />,\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}